# HCC Compression Advisor - Data Model Design

## Overview

The data model for the HCC Compression Advisor system is designed to support comprehensive compression analysis, execution tracking, and historical reporting. The schema follows Oracle best practices with proper normalization, indexing strategies, and partitioning for lifecycle management.

## Entity Relationship Overview

```
┌─────────────────────────┐
│  COMPRESSION_STRATEGIES │ (Configuration)
│  - Strategy definitions │
│  - Threshold parameters │
└───────────┬─────────────┘
            │ 1:N
            ↓
┌─────────────────────────┐         ┌──────────────────────┐
│  ADVISOR_RUN            │ 1:N     │  COMPRESSION_HISTORY │
│  - Analysis sessions    │←────────┤  - Execution results │
│  - Run metadata         │         │  - Before/after size │
└───────────┬─────────────┘         └──────────┬───────────┘
            │ 1:N                              │
            ↓                                  │
┌─────────────────────────┐                   │
│  COMPRESSION_ANALYSIS_  │                   │
│  RESULTS                │                   │
│  - Object analysis      │                   │
│  - Compression ratios   │                   │
│  - Recommendations      │                   │
└───────────┬─────────────┘                   │
            │                                  │
            ├──────────────────────────────────┘
            │ 1:1 (Foreign Key)
            │
┌───────────┴─────────────┐
│  Extended Analysis      │
│  - INDEX_COMPRESSION_   │
│    ANALYSIS             │
│  - LOB_COMPRESSION_     │
│    ANALYSIS             │
│  - IOT_COMPRESSION_     │
│    ANALYSIS             │
└─────────────────────────┘
```

## Core Tables

### 1. COMPRESSION_ANALYSIS_RESULTS

**Purpose**: Primary storage for compression analysis results and recommendations.

**Table Structure**:

```sql
CREATE TABLE COMPRESSION_ANALYSIS_RESULTS (
    -- Primary Key
    FACT_ID                 NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,

    -- Object Identification
    OWNER                   VARCHAR2(128) NOT NULL,
    OBJECT_NAME             VARCHAR2(128) NOT NULL,
    OBJECT_TYPE             VARCHAR2(30) NOT NULL,
    PARTITION_NAME          VARCHAR2(128),
    SUBPARTITION_NAME       VARCHAR2(128),

    -- Size and Row Metrics
    SIZE_BYTES              NUMBER,
    SIZE_MB                 NUMBER GENERATED ALWAYS AS (SIZE_BYTES/1024/1024) VIRTUAL,
    SIZE_GB                 NUMBER GENERATED ALWAYS AS (SIZE_BYTES/1024/1024/1024) VIRTUAL,
    ROWCNT                  NUMBER,
    BLOCK_COUNT             NUMBER,
    AVG_ROW_LENGTH          NUMBER,

    -- Compression Ratios (higher = better compression)
    OLTP_RATIO              NUMBER(5,2),
    QUERY_LOW_RATIO         NUMBER(5,2),
    QUERY_HIGH_RATIO        NUMBER(5,2),
    ARCHIVE_HIGH_RATIO      NUMBER(5,2),
    ARCHIVE_LOW_RATIO       NUMBER(5,2),
    BEST_RATIO              NUMBER(5,2) GENERATED ALWAYS AS (
        GREATEST(
            NVL(OLTP_RATIO,0),
            NVL(QUERY_LOW_RATIO,0),
            NVL(QUERY_HIGH_RATIO,0),
            NVL(ARCHIVE_HIGH_RATIO,0),
            NVL(ARCHIVE_LOW_RATIO,0)
        )
    ) VIRTUAL,

    -- Activity Metrics (DML Operations)
    INSERT_COUNT            NUMBER DEFAULT 0,
    UPDATE_COUNT            NUMBER DEFAULT 0,
    DELETE_COUNT            NUMBER DEFAULT 0,
    TOTAL_OPERATIONS        NUMBER GENERATED ALWAYS AS (
        NVL(INSERT_COUNT,0) + NVL(UPDATE_COUNT,0) + NVL(DELETE_COUNT,0)
    ) VIRTUAL,
    DML_24H_RATE            NUMBER,  -- Operations per day

    -- Access Pattern Metrics
    ACCESS_FREQUENCY        NUMBER,  -- Total reads in observation period
    LOGICAL_READS           NUMBER,
    PHYSICAL_READS          NUMBER,
    LAST_ACCESS_DATE        DATE,

    -- Hotness Score (0-100 scale)
    HOTNESS_SCORE           NUMBER(5,2),
    HOTNESS_CATEGORY        VARCHAR2(10) GENERATED ALWAYS AS (
        CASE
            WHEN HOTNESS_SCORE >= 75 THEN 'HOT'
            WHEN HOTNESS_SCORE >= 50 THEN 'WARM'
            WHEN HOTNESS_SCORE >= 25 THEN 'COOL'
            ELSE 'COLD'
        END
    ) VIRTUAL,

    -- Data Age Metrics
    LAST_ANALYZED           DATE,
    DATA_AGE_DAYS           NUMBER GENERATED ALWAYS AS (
        SYSDATE - NVL(LAST_ANALYZED, SYSDATE)
    ) VIRTUAL,

    -- Recommendation
    ADVISABLE_COMPRESSION   VARCHAR2(30),
    RECOMMENDATION_REASON   VARCHAR2(500),
    CONFIDENCE_SCORE        NUMBER(5,2),  -- 0-100 confidence in recommendation

    -- Space Savings Projection
    PROJECTED_SAVINGS_MB    NUMBER,
    PROJECTED_SAVINGS_PCT   NUMBER(5,2),

    -- Analysis Metadata
    ADVISOR_RUN_ID          NUMBER NOT NULL,
    ANALYSIS_DATE           DATE DEFAULT SYSDATE,
    ANALYSIS_DURATION_SEC   NUMBER,
    SAMPLE_SIZE_ROWS        NUMBER,
    LAST_UPDATED            TIMESTAMP DEFAULT SYSTIMESTAMP,

    -- Current Compression State
    CURRENT_COMPRESSION     VARCHAR2(30),
    COMPRESSION_ENABLED     VARCHAR2(1) GENERATED ALWAYS AS (
        CASE WHEN CURRENT_COMPRESSION IS NOT NULL THEN 'Y' ELSE 'N' END
    ) VIRTUAL,

    -- Constraints
    CONSTRAINT PK_COMPRESSION_ANALYSIS PRIMARY KEY (FACT_ID),
    CONSTRAINT FK_ANALYSIS_RUN FOREIGN KEY (ADVISOR_RUN_ID)
        REFERENCES ADVISOR_RUN(RUN_ID),
    CONSTRAINT CHK_COMPRESSION_TYPE CHECK (
        ADVISABLE_COMPRESSION IN (
            'OLTP', 'QUERY_LOW', 'QUERY_HIGH',
            'ARCHIVE_LOW', 'ARCHIVE_HIGH', 'NONE'
        )
    ),
    CONSTRAINT CHK_OBJECT_TYPE CHECK (
        OBJECT_TYPE IN ('TABLE', 'PARTITION', 'SUBPARTITION')
    ),
    CONSTRAINT CHK_HOTNESS_SCORE CHECK (
        HOTNESS_SCORE BETWEEN 0 AND 100
    ),
    CONSTRAINT CHK_CONFIDENCE_SCORE CHECK (
        CONFIDENCE_SCORE BETWEEN 0 AND 100
    )
)
COMPRESS BASIC  -- Repository itself uses compression
PARTITION BY RANGE (ANALYSIS_DATE) INTERVAL (NUMTOYMINTERVAL(1,'MONTH'))
(
    PARTITION P_INITIAL VALUES LESS THAN (DATE '2025-01-01')
);

-- Indexes for Performance
CREATE INDEX IDX_COMP_ANALYSIS_OBJECT ON COMPRESSION_ANALYSIS_RESULTS(
    OWNER, OBJECT_NAME
) LOCAL;

CREATE INDEX IDX_COMP_ANALYSIS_HOTNESS ON COMPRESSION_ANALYSIS_RESULTS(
    HOTNESS_SCORE
) LOCAL;

CREATE INDEX IDX_COMP_ANALYSIS_RECOMMENDATION ON COMPRESSION_ANALYSIS_RESULTS(
    ADVISABLE_COMPRESSION, BEST_RATIO DESC
) LOCAL;

CREATE INDEX IDX_COMP_ANALYSIS_RUN ON COMPRESSION_ANALYSIS_RESULTS(
    ADVISOR_RUN_ID, ANALYSIS_DATE
) LOCAL;

CREATE BITMAP INDEX IDX_COMP_ANALYSIS_TYPE ON COMPRESSION_ANALYSIS_RESULTS(
    ADVISABLE_COMPRESSION
) LOCAL;

-- Statistics collection
EXEC DBMS_STATS.SET_TABLE_PREFS('COMPRESSION_MGR', 'COMPRESSION_ANALYSIS_RESULTS', 'INCREMENTAL', 'TRUE');
```

**Key Design Decisions**:
- **Virtual Columns**: Computed metrics (SIZE_MB, TOTAL_OPERATIONS) avoid redundant storage
- **Partitioning**: Monthly range partitioning enables efficient purging of old analysis data
- **Local Indexes**: Support partition-wise operations for better performance
- **Bitmap Index**: On ADVISABLE_COMPRESSION for fast filtering in reports
- **Check Constraints**: Data integrity validation at database level

### 2. COMPRESSION_HISTORY

**Purpose**: Track all compression execution operations with before/after metrics.

**Table Structure**:

```sql
CREATE TABLE COMPRESSION_HISTORY (
    -- Primary Key
    HISTORY_ID              NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    EXECUTION_ID            NUMBER,  -- Unique execution identifier

    -- Object Identification
    OWNER                   VARCHAR2(128) NOT NULL,
    OBJECT_NAME             VARCHAR2(128) NOT NULL,
    OBJECT_TYPE             VARCHAR2(30) NOT NULL,
    PARTITION_NAME          VARCHAR2(128),
    SUBPARTITION_NAME       VARCHAR2(128),

    -- Compression Details
    COMPRESSION_TYPE_APPLIED VARCHAR2(30),
    COMPRESSION_CLAUSE      VARCHAR2(200),  -- Actual DDL clause used
    EXECUTION_MODE          VARCHAR2(10),   -- 'ONLINE', 'OFFLINE'
    PARALLEL_DEGREE         NUMBER,

    -- Size Metrics (Before)
    ORIGINAL_SIZE_BYTES     NUMBER,
    ORIGINAL_SIZE_MB        NUMBER GENERATED ALWAYS AS (
        ORIGINAL_SIZE_BYTES/1024/1024
    ) VIRTUAL,
    ORIGINAL_BLOCKS         NUMBER,

    -- Size Metrics (After)
    COMPRESSED_SIZE_BYTES   NUMBER,
    COMPRESSED_SIZE_MB      NUMBER GENERATED ALWAYS AS (
        COMPRESSED_SIZE_BYTES/1024/1024
    ) VIRTUAL,
    COMPRESSED_BLOCKS       NUMBER,

    -- Space Savings
    SPACE_SAVED_BYTES       NUMBER GENERATED ALWAYS AS (
        ORIGINAL_SIZE_BYTES - COMPRESSED_SIZE_BYTES
    ) VIRTUAL,
    SPACE_SAVED_MB          NUMBER GENERATED ALWAYS AS (
        (ORIGINAL_SIZE_BYTES - COMPRESSED_SIZE_BYTES)/1024/1024
    ) VIRTUAL,
    SPACE_SAVED_PCT         NUMBER(5,2) GENERATED ALWAYS AS (
        CASE WHEN ORIGINAL_SIZE_BYTES > 0 THEN
            ((ORIGINAL_SIZE_BYTES - COMPRESSED_SIZE_BYTES) / ORIGINAL_SIZE_BYTES) * 100
        ELSE 0 END
    ) VIRTUAL,

    -- Compression Ratio Achieved
    COMPRESSION_RATIO_ACHIEVED NUMBER(5,2),  -- Actual vs predicted
    PREDICTED_RATIO            NUMBER(5,2),   -- From analysis
    RATIO_VARIANCE             NUMBER(5,2) GENERATED ALWAYS AS (
        COMPRESSION_RATIO_ACHIEVED - PREDICTED_RATIO
    ) VIRTUAL,

    -- Timing Information
    START_TIME              TIMESTAMP DEFAULT SYSTIMESTAMP,
    END_TIME                TIMESTAMP,
    DURATION_SECONDS        NUMBER GENERATED ALWAYS AS (
        EXTRACT(DAY FROM (END_TIME - START_TIME)) * 86400 +
        EXTRACT(HOUR FROM (END_TIME - START_TIME)) * 3600 +
        EXTRACT(MINUTE FROM (END_TIME - START_TIME)) * 60 +
        EXTRACT(SECOND FROM (END_TIME - START_TIME))
    ) VIRTUAL,
    DURATION_MINUTES        NUMBER GENERATED ALWAYS AS (
        (EXTRACT(DAY FROM (END_TIME - START_TIME)) * 86400 +
         EXTRACT(HOUR FROM (END_TIME - START_TIME)) * 3600 +
         EXTRACT(MINUTE FROM (END_TIME - START_TIME)) * 60 +
         EXTRACT(SECOND FROM (END_TIME - START_TIME))) / 60
    ) VIRTUAL,

    -- Execution Status
    OPERATION_STATUS        VARCHAR2(30) DEFAULT 'IN_PROGRESS',
    ERROR_CODE              NUMBER,
    ERROR_MESSAGE           VARCHAR2(4000),
    ERROR_BACKTRACE         VARCHAR2(4000),

    -- Performance Metrics
    CPU_TIME_SECONDS        NUMBER,
    IO_WAIT_SECONDS         NUMBER,
    TEMP_SPACE_MB           NUMBER,  -- Temp space used
    UNDO_SPACE_MB           NUMBER,  -- Undo generated

    -- Index Rebuild Information
    INDEXES_REBUILT_COUNT   NUMBER DEFAULT 0,
    INDEX_REBUILD_TIME_SEC  NUMBER,

    -- Validation
    VALIDATION_STATUS       VARCHAR2(30),
    ROW_COUNT_BEFORE        NUMBER,
    ROW_COUNT_AFTER         NUMBER,
    DATA_INTEGRITY_CHECK    VARCHAR2(1) DEFAULT 'N',

    -- Foreign Key to Analysis
    FACT_ID                 NUMBER,

    -- Audit Information
    EXECUTED_BY             VARCHAR2(128) DEFAULT USER,
    EXECUTED_FROM_IP        VARCHAR2(45),
    EXECUTED_FROM_PROGRAM   VARCHAR2(64),

    -- Rollback Information
    ROLLBACK_POSSIBLE       VARCHAR2(1) DEFAULT 'Y',
    ROLLBACK_STATUS         VARCHAR2(30),
    ORIGINAL_DDL            CLOB,  -- For potential rollback

    -- Constraints
    CONSTRAINT PK_COMPRESSION_HISTORY PRIMARY KEY (HISTORY_ID),
    CONSTRAINT FK_HISTORY_ANALYSIS FOREIGN KEY (FACT_ID)
        REFERENCES COMPRESSION_ANALYSIS_RESULTS(FACT_ID),
    CONSTRAINT CHK_OPERATION_STATUS CHECK (
        OPERATION_STATUS IN (
            'IN_PROGRESS', 'SUCCESS', 'FAILED',
            'ROLLED_BACK', 'PARTIAL_SUCCESS'
        )
    ),
    CONSTRAINT CHK_EXECUTION_MODE CHECK (
        EXECUTION_MODE IN ('ONLINE', 'OFFLINE')
    ),
    CONSTRAINT CHK_DATA_INTEGRITY CHECK (
        DATA_INTEGRITY_CHECK IN ('Y', 'N')
    ),
    CONSTRAINT CHK_ROLLBACK_POSSIBLE CHECK (
        ROLLBACK_POSSIBLE IN ('Y', 'N')
    )
)
COMPRESS BASIC
PARTITION BY RANGE (START_TIME) INTERVAL (NUMTOYMINTERVAL(3,'MONTH'))
(
    PARTITION P_INITIAL VALUES LESS THAN (TIMESTAMP '2025-01-01 00:00:00')
);

-- Indexes
CREATE UNIQUE INDEX IDX_HISTORY_EXECUTION ON COMPRESSION_HISTORY(
    EXECUTION_ID
);

CREATE INDEX IDX_HISTORY_OBJECT ON COMPRESSION_HISTORY(
    OWNER, OBJECT_NAME, START_TIME DESC
) LOCAL;

CREATE INDEX IDX_HISTORY_STATUS ON COMPRESSION_HISTORY(
    OPERATION_STATUS, START_TIME DESC
) LOCAL;

CREATE INDEX IDX_HISTORY_COMPRESSION_TYPE ON COMPRESSION_HISTORY(
    COMPRESSION_TYPE_APPLIED, OPERATION_STATUS
) LOCAL;

CREATE BITMAP INDEX IDX_HISTORY_STATUS_BMP ON COMPRESSION_HISTORY(
    OPERATION_STATUS
) LOCAL;

-- Statistics
EXEC DBMS_STATS.SET_TABLE_PREFS('COMPRESSION_MGR', 'COMPRESSION_HISTORY', 'INCREMENTAL', 'TRUE');
```

**Key Design Decisions**:
- **Execution Tracking**: Complete before/after metrics for ROI calculation
- **Performance Metrics**: CPU, I/O, temp space tracking for optimization
- **Data Integrity**: Row count validation and integrity checks
- **Rollback Support**: Store original DDL for potential reversal
- **Partition Strategy**: Quarterly partitions with 2-year retention

### 3. ADVISOR_RUN

**Purpose**: Track analysis execution sessions and metadata.

**Table Structure**:

```sql
CREATE TABLE ADVISOR_RUN (
    -- Primary Key
    RUN_ID                  NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,

    -- Run Identification
    RUN_NAME                VARCHAR2(100),
    RUN_TYPE                VARCHAR2(30) NOT NULL,
    RUN_DESCRIPTION         VARCHAR2(500),

    -- Scope
    SCHEMA_FILTER           VARCHAR2(128),
    OBJECT_TYPE_FILTER      VARCHAR2(30),
    OBJECT_NAME_PATTERN     VARCHAR2(128),
    PARTITION_FILTER        VARCHAR2(1) DEFAULT 'N',

    -- Strategy
    STRATEGY_ID             NUMBER,
    STRATEGY_NAME           VARCHAR2(50),

    -- Configuration Parameters
    SAMPLE_SIZE             NUMBER DEFAULT 1000000,
    PARALLEL_DEGREE         NUMBER DEFAULT 4,
    ANALYSIS_MODE           VARCHAR2(20) DEFAULT 'FULL',  -- FULL, INCREMENTAL, QUICK

    -- Timing
    START_TIME              TIMESTAMP DEFAULT SYSTIMESTAMP,
    END_TIME                TIMESTAMP,
    DURATION_MINUTES        NUMBER GENERATED ALWAYS AS (
        (EXTRACT(DAY FROM (END_TIME - START_TIME)) * 86400 +
         EXTRACT(HOUR FROM (END_TIME - START_TIME)) * 3600 +
         EXTRACT(MINUTE FROM (END_TIME - START_TIME)) * 60 +
         EXTRACT(SECOND FROM (END_TIME - START_TIME))) / 60
    ) VIRTUAL,

    -- Status
    RUN_STATUS              VARCHAR2(30) DEFAULT 'RUNNING',
    ERROR_MESSAGE           VARCHAR2(4000),

    -- Statistics
    OBJECTS_ANALYZED        NUMBER DEFAULT 0,
    OBJECTS_SUCCEEDED       NUMBER DEFAULT 0,
    OBJECTS_FAILED          NUMBER DEFAULT 0,
    SUCCESS_RATE_PCT        NUMBER(5,2) GENERATED ALWAYS AS (
        CASE WHEN OBJECTS_ANALYZED > 0 THEN
            (OBJECTS_SUCCEEDED / OBJECTS_ANALYZED) * 100
        ELSE 0 END
    ) VIRTUAL,

    -- Space Analysis Summary
    TOTAL_SIZE_MB           NUMBER,
    COMPRESSIBLE_SIZE_MB    NUMBER,
    PROJECTED_SAVINGS_MB    NUMBER,
    PROJECTED_SAVINGS_PCT   NUMBER(5,2),

    -- Recommendations Summary
    RECOMMEND_OLTP          NUMBER DEFAULT 0,
    RECOMMEND_QUERY_LOW     NUMBER DEFAULT 0,
    RECOMMEND_QUERY_HIGH    NUMBER DEFAULT 0,
    RECOMMEND_ARCHIVE_LOW   NUMBER DEFAULT 0,
    RECOMMEND_ARCHIVE_HIGH  NUMBER DEFAULT 0,
    RECOMMEND_NONE          NUMBER DEFAULT 0,

    -- Performance Metrics
    CPU_TIME_SECONDS        NUMBER,
    ELAPSED_TIME_SECONDS    NUMBER,
    TEMP_SPACE_MB           NUMBER,

    -- Audit
    INITIATED_BY            VARCHAR2(128) DEFAULT USER,
    INITIATED_FROM          VARCHAR2(64),

    -- Constraints
    CONSTRAINT PK_ADVISOR_RUN PRIMARY KEY (RUN_ID),
    CONSTRAINT FK_RUN_STRATEGY FOREIGN KEY (STRATEGY_ID)
        REFERENCES COMPRESSION_STRATEGIES(STRATEGY_ID),
    CONSTRAINT CHK_RUN_TYPE CHECK (
        RUN_TYPE IN ('TABLES', 'INDEXES', 'LOBS', 'IOTS', 'ALL', 'CUSTOM')
    ),
    CONSTRAINT CHK_RUN_STATUS CHECK (
        RUN_STATUS IN ('RUNNING', 'COMPLETED', 'FAILED', 'CANCELLED')
    ),
    CONSTRAINT CHK_ANALYSIS_MODE CHECK (
        ANALYSIS_MODE IN ('FULL', 'INCREMENTAL', 'QUICK')
    )
)
COMPRESS BASIC;

-- Indexes
CREATE INDEX IDX_ADVISOR_RUN_TIME ON ADVISOR_RUN(
    START_TIME DESC, RUN_STATUS
);

CREATE INDEX IDX_ADVISOR_RUN_SCHEMA ON ADVISOR_RUN(
    SCHEMA_FILTER, START_TIME DESC
);

-- Sequence
CREATE SEQUENCE SEQ_ADVISOR_RUN_ID
    START WITH 1
    INCREMENT BY 1
    CACHE 20;
```

### 4. COMPRESSION_STRATEGIES

**Purpose**: Define configurable compression recommendation strategies.

**Table Structure**:

```sql
CREATE TABLE COMPRESSION_STRATEGIES (
    -- Primary Key
    STRATEGY_ID             NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,

    -- Strategy Identification
    STRATEGY_NAME           VARCHAR2(50) NOT NULL UNIQUE,
    DESCRIPTION             VARCHAR2(500),
    CATEGORY                VARCHAR2(30),  -- 'PERFORMANCE', 'BALANCED', 'SPACE'

    -- Threshold Parameters
    DML_THRESHOLD_LOW       NUMBER DEFAULT 100,
    DML_THRESHOLD_MEDIUM    NUMBER DEFAULT 1000,
    DML_THRESHOLD_HIGH      NUMBER DEFAULT 10000,

    SIZE_THRESHOLD_SMALL_GB NUMBER DEFAULT 1,
    SIZE_THRESHOLD_MEDIUM_GB NUMBER DEFAULT 10,
    SIZE_THRESHOLD_LARGE_GB NUMBER DEFAULT 50,

    AGE_THRESHOLD_RECENT_DAYS NUMBER DEFAULT 30,
    AGE_THRESHOLD_OLD_DAYS  NUMBER DEFAULT 90,
    AGE_THRESHOLD_ARCHIVE_DAYS NUMBER DEFAULT 180,

    HOTNESS_THRESHOLD_HOT   NUMBER DEFAULT 75,
    HOTNESS_THRESHOLD_WARM  NUMBER DEFAULT 50,
    HOTNESS_THRESHOLD_COOL  NUMBER DEFAULT 25,

    -- Compression Type Weights (for scoring)
    OLTP_WEIGHT             NUMBER(3,2) DEFAULT 1.0,
    QUERY_LOW_WEIGHT        NUMBER(3,2) DEFAULT 0.8,
    QUERY_HIGH_WEIGHT       NUMBER(3,2) DEFAULT 0.6,
    ARCHIVE_LOW_WEIGHT      NUMBER(3,2) DEFAULT 0.4,
    ARCHIVE_HIGH_WEIGHT     NUMBER(3,2) DEFAULT 0.2,

    -- Priority and Constraints
    PRIORITY_SCORE          NUMBER DEFAULT 50,
    MIN_COMPRESSION_RATIO   NUMBER(4,2) DEFAULT 1.5,
    MIN_SPACE_SAVINGS_MB    NUMBER DEFAULT 100,

    -- Status
    ENABLED_FLAG            VARCHAR2(1) DEFAULT 'Y',
    IS_DEFAULT              VARCHAR2(1) DEFAULT 'N',

    -- Metadata
    CREATED_DATE            DATE DEFAULT SYSDATE,
    CREATED_BY              VARCHAR2(128) DEFAULT USER,
    MODIFIED_DATE           DATE,
    MODIFIED_BY             VARCHAR2(128),
    VERSION_NUMBER          NUMBER DEFAULT 1,

    -- Constraints
    CONSTRAINT PK_COMPRESSION_STRATEGIES PRIMARY KEY (STRATEGY_ID),
    CONSTRAINT CHK_ENABLED_FLAG CHECK (ENABLED_FLAG IN ('Y', 'N')),
    CONSTRAINT CHK_IS_DEFAULT CHECK (IS_DEFAULT IN ('Y', 'N')),
    CONSTRAINT CHK_CATEGORY CHECK (
        CATEGORY IN ('PERFORMANCE', 'BALANCED', 'SPACE', 'CUSTOM')
    ),
    CONSTRAINT CHK_MIN_RATIO CHECK (MIN_COMPRESSION_RATIO >= 1.0)
);

-- Unique constraint on default strategy
CREATE UNIQUE INDEX UNQ_DEFAULT_STRATEGY ON COMPRESSION_STRATEGIES(
    CASE WHEN IS_DEFAULT = 'Y' THEN IS_DEFAULT END
);

-- Sequence
CREATE SEQUENCE SEQ_STRATEGY_ID
    START WITH 1
    INCREMENT BY 1
    CACHE 10;

-- Insert default strategies
INSERT INTO COMPRESSION_STRATEGIES (
    STRATEGY_NAME, DESCRIPTION, CATEGORY,
    DML_THRESHOLD_HIGH, DML_THRESHOLD_MEDIUM, DML_THRESHOLD_LOW,
    SIZE_THRESHOLD_LARGE_GB, SIZE_THRESHOLD_MEDIUM_GB, SIZE_THRESHOLD_SMALL_GB,
    IS_DEFAULT, ENABLED_FLAG
) VALUES (
    'HIGH_PERFORMANCE',
    'Minimal compression for high-performance OLTP systems',
    'PERFORMANCE',
    10000, 1000, 100,
    100, 10, 1,
    'N', 'Y'
);

INSERT INTO COMPRESSION_STRATEGIES (
    STRATEGY_NAME, DESCRIPTION, CATEGORY,
    DML_THRESHOLD_HIGH, DML_THRESHOLD_MEDIUM, DML_THRESHOLD_LOW,
    SIZE_THRESHOLD_LARGE_GB, SIZE_THRESHOLD_MEDIUM_GB, SIZE_THRESHOLD_SMALL_GB,
    IS_DEFAULT, ENABLED_FLAG
) VALUES (
    'BALANCED_PRODUCTION',
    'Balanced compression for general production workloads',
    'BALANCED',
    5000, 500, 50,
    50, 5, 0.5,
    'Y', 'Y'
);

INSERT INTO COMPRESSION_STRATEGIES (
    STRATEGY_NAME, DESCRIPTION, CATEGORY,
    DML_THRESHOLD_HIGH, DML_THRESHOLD_MEDIUM, DML_THRESHOLD_LOW,
    SIZE_THRESHOLD_LARGE_GB, SIZE_THRESHOLD_MEDIUM_GB, SIZE_THRESHOLD_SMALL_GB,
    IS_DEFAULT, ENABLED_FLAG
) VALUES (
    'MAXIMUM_COMPRESSION',
    'Aggressive compression for data warehouse and archival',
    'SPACE',
    1000, 100, 10,
    20, 2, 0.1,
    'N', 'Y'
);

COMMIT;
```

## Extended Object Tables

### 5. INDEX_COMPRESSION_ANALYSIS

**Purpose**: Specialized analysis for index compression.

```sql
CREATE TABLE INDEX_COMPRESSION_ANALYSIS (
    -- Primary Key
    INDEX_FACT_ID           NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,

    -- Index Identification
    INDEX_OWNER             VARCHAR2(128) NOT NULL,
    INDEX_NAME              VARCHAR2(128) NOT NULL,
    TABLE_OWNER             VARCHAR2(128),
    TABLE_NAME              VARCHAR2(128),
    INDEX_TYPE              VARCHAR2(27),  -- NORMAL, BITMAP, FUNCTION-BASED, etc.
    UNIQUENESS              VARCHAR2(9),   -- UNIQUE, NONUNIQUE

    -- Size Metrics
    INDEX_SIZE_BYTES        NUMBER,
    INDEX_SIZE_MB           NUMBER GENERATED ALWAYS AS (
        INDEX_SIZE_BYTES/1024/1024
    ) VIRTUAL,
    LEAF_BLOCKS             NUMBER,
    DISTINCT_KEYS           NUMBER,
    CLUSTERING_FACTOR       NUMBER,

    -- Compression Analysis
    CURRENT_COMPRESSION     VARCHAR2(30),
    PREFIX_LENGTH           NUMBER,  -- Current prefix compression length
    RECOMMENDED_PREFIX      NUMBER,  -- Recommended prefix length
    ADVANCED_COMPRESSION_RATIO NUMBER(5,2),
    STANDARD_COMPRESSION_RATIO NUMBER(5,2),

    -- Access Patterns
    ACCESS_FREQUENCY        NUMBER,
    SCAN_COUNT              NUMBER,
    LOOKUP_COUNT            NUMBER,
    REBUILD_FREQUENCY_DAYS  NUMBER,
    LAST_REBUILD_DATE       DATE,

    -- Recommendation
    ADVISABLE_COMPRESSION   VARCHAR2(30),
    RECOMMENDATION_REASON   VARCHAR2(500),
    PROJECTED_SAVINGS_MB    NUMBER,

    -- Metadata
    ADVISOR_RUN_ID          NUMBER NOT NULL,
    ANALYSIS_DATE           DATE DEFAULT SYSDATE,

    -- Constraints
    CONSTRAINT PK_INDEX_COMPRESSION PRIMARY KEY (INDEX_FACT_ID),
    CONSTRAINT FK_INDEX_ANALYSIS_RUN FOREIGN KEY (ADVISOR_RUN_ID)
        REFERENCES ADVISOR_RUN(RUN_ID),
    CONSTRAINT CHK_INDEX_COMPRESSION CHECK (
        ADVISABLE_COMPRESSION IN (
            'ADVANCED', 'PREFIX', 'NONE'
        )
    )
)
COMPRESS BASIC
PARTITION BY RANGE (ANALYSIS_DATE) INTERVAL (NUMTOYMINTERVAL(1,'MONTH'))
(
    PARTITION P_INITIAL VALUES LESS THAN (DATE '2025-01-01')
);

CREATE INDEX IDX_INDEX_COMP_NAME ON INDEX_COMPRESSION_ANALYSIS(
    INDEX_OWNER, INDEX_NAME
) LOCAL;
```

### 6. LOB_COMPRESSION_ANALYSIS

**Purpose**: Specialized analysis for LOB (CLOB/BLOB) compression.

```sql
CREATE TABLE LOB_COMPRESSION_ANALYSIS (
    -- Primary Key
    LOB_FACT_ID             NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,

    -- LOB Identification
    TABLE_OWNER             VARCHAR2(128) NOT NULL,
    TABLE_NAME              VARCHAR2(128) NOT NULL,
    COLUMN_NAME             VARCHAR2(128) NOT NULL,
    LOB_NAME                VARCHAR2(128),
    DATA_TYPE               VARCHAR2(106),  -- CLOB, BLOB, etc.
    SECUREFILE              VARCHAR2(3),    -- YES, NO

    -- Size Metrics
    LOB_SIZE_BYTES          NUMBER,
    LOB_SIZE_MB             NUMBER GENERATED ALWAYS AS (
        LOB_SIZE_BYTES/1024/1024
    ) VIRTUAL,
    NUM_LOBS                NUMBER,  -- Count of LOB instances
    AVG_LOB_SIZE_KB         NUMBER,

    -- Current State
    CURRENT_COMPRESSION     VARCHAR2(30),
    CURRENT_DEDUPLICATION   VARCHAR2(3),    -- YES, NO
    CURRENT_ENCRYPTION      VARCHAR2(3),    -- YES, NO
    CHUNK_SIZE              NUMBER,
    CACHE_MODE              VARCHAR2(10),

    -- Compression Analysis
    COMPRESS_HIGH_RATIO     NUMBER(5,2),
    COMPRESS_MEDIUM_RATIO   NUMBER(5,2),
    DEDUP_SAVINGS_PCT       NUMBER(5,2),

    -- Access Patterns
    READ_FREQUENCY          NUMBER,
    WRITE_FREQUENCY         NUMBER,
    READ_WRITE_RATIO        NUMBER(5,2),
    LAST_ACCESS_DATE        DATE,

    -- Recommendation
    ADVISABLE_COMPRESSION   VARCHAR2(30),
    ADVISABLE_DEDUP         VARCHAR2(3),
    RECOMMENDATION_REASON   VARCHAR2(500),
    PROJECTED_SAVINGS_MB    NUMBER,

    -- Migration Recommendation
    RECOMMEND_SECUREFILE    VARCHAR2(1) DEFAULT 'N',
    MIGRATION_COMPLEXITY    VARCHAR2(10),  -- LOW, MEDIUM, HIGH

    -- Metadata
    ADVISOR_RUN_ID          NUMBER NOT NULL,
    ANALYSIS_DATE           DATE DEFAULT SYSDATE,

    -- Constraints
    CONSTRAINT PK_LOB_COMPRESSION PRIMARY KEY (LOB_FACT_ID),
    CONSTRAINT FK_LOB_ANALYSIS_RUN FOREIGN KEY (ADVISOR_RUN_ID)
        REFERENCES ADVISOR_RUN(RUN_ID),
    CONSTRAINT CHK_LOB_COMPRESSION CHECK (
        ADVISABLE_COMPRESSION IN (
            'HIGH', 'MEDIUM', 'LOW', 'NONE'
        )
    ),
    CONSTRAINT CHK_SECUREFILE CHECK (
        SECUREFILE IN ('YES', 'NO')
    )
)
COMPRESS BASIC
PARTITION BY RANGE (ANALYSIS_DATE) INTERVAL (NUMTOYMINTERVAL(1,'MONTH'))
(
    PARTITION P_INITIAL VALUES LESS THAN (DATE '2025-01-01')
);

CREATE INDEX IDX_LOB_COMP_TABLE ON LOB_COMPRESSION_ANALYSIS(
    TABLE_OWNER, TABLE_NAME, COLUMN_NAME
) LOCAL;
```

### 7. IOT_COMPRESSION_ANALYSIS

**Purpose**: Specialized analysis for Index-Organized Tables.

```sql
CREATE TABLE IOT_COMPRESSION_ANALYSIS (
    -- Primary Key
    IOT_FACT_ID             NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,

    -- IOT Identification
    OWNER                   VARCHAR2(128) NOT NULL,
    TABLE_NAME              VARCHAR2(128) NOT NULL,
    IOT_TYPE                VARCHAR2(12),  -- IOT, IOT_OVERFLOW, IOT_MAPPING

    -- Size Metrics
    TABLE_SIZE_BYTES        NUMBER,
    TABLE_SIZE_MB           NUMBER GENERATED ALWAYS AS (
        TABLE_SIZE_BYTES/1024/1024
    ) VIRTUAL,
    OVERFLOW_SIZE_BYTES     NUMBER,
    OVERFLOW_SIZE_MB        NUMBER GENERATED ALWAYS AS (
        OVERFLOW_SIZE_BYTES/1024/1024
    ) VIRTUAL,

    -- Key Structure
    PK_COLUMN_COUNT         NUMBER,
    PK_PREFIX_LENGTH        NUMBER,  -- Compressible prefix columns
    TOTAL_COLUMNS           NUMBER,
    OVERFLOW_COLUMNS        NUMBER,

    -- Compression Analysis
    CURRENT_COMPRESSION     VARCHAR2(30),
    CURRENT_KEY_COMPRESSION NUMBER,  -- Current prefix compression
    OLTP_RATIO              NUMBER(5,2),
    QUERY_LOW_RATIO         NUMBER(5,2),
    QUERY_HIGH_RATIO        NUMBER(5,2),
    KEY_COMPRESS_RATIO      NUMBER(5,2),

    -- Access Patterns
    LOOKUP_FREQUENCY        NUMBER,  -- Primary key lookups
    SCAN_FREQUENCY          NUMBER,  -- Range scans
    DML_FREQUENCY           NUMBER,
    LAST_ACCESS_DATE        DATE,

    -- Recommendation
    ADVISABLE_TABLE_COMPRESSION VARCHAR2(30),
    ADVISABLE_KEY_COMPRESSION   NUMBER,  -- Recommended prefix length
    RECOMMENDATION_REASON       VARCHAR2(500),
    PROJECTED_TABLE_SAVINGS_MB  NUMBER,
    PROJECTED_KEY_SAVINGS_MB    NUMBER,

    -- Metadata
    ADVISOR_RUN_ID          NUMBER NOT NULL,
    ANALYSIS_DATE           DATE DEFAULT SYSDATE,

    -- Constraints
    CONSTRAINT PK_IOT_COMPRESSION PRIMARY KEY (IOT_FACT_ID),
    CONSTRAINT FK_IOT_ANALYSIS_RUN FOREIGN KEY (ADVISOR_RUN_ID)
        REFERENCES ADVISOR_RUN(RUN_ID),
    CONSTRAINT CHK_IOT_TABLE_COMPRESSION CHECK (
        ADVISABLE_TABLE_COMPRESSION IN (
            'OLTP', 'QUERY_LOW', 'QUERY_HIGH', 'NONE'
        )
    )
)
COMPRESS BASIC
PARTITION BY RANGE (ANALYSIS_DATE) INTERVAL (NUMTOYMINTERVAL(1,'MONTH'))
(
    PARTITION P_INITIAL VALUES LESS THAN (DATE '2025-01-01')
);

CREATE INDEX IDX_IOT_COMP_TABLE ON IOT_COMPRESSION_ANALYSIS(
    OWNER, TABLE_NAME
) LOCAL;
```

## Supporting Tables

### 8. OPERATION_LOG

**Purpose**: Comprehensive audit trail of all system operations.

```sql
CREATE TABLE OPERATION_LOG (
    -- Primary Key
    LOG_ID                  NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,

    -- Operation Details
    OPERATION_TYPE          VARCHAR2(50) NOT NULL,
    OPERATION_NAME          VARCHAR2(100),
    OPERATION_DETAILS       CLOB,
    OPERATION_PARAMETERS    CLOB,  -- JSON format

    -- Caller Information
    CALLER_USER             VARCHAR2(128) DEFAULT USER,
    CALLER_OSUSER           VARCHAR2(128),
    CALLER_IP               VARCHAR2(45),
    CALLER_PROGRAM          VARCHAR2(64),
    CALLER_MODULE           VARCHAR2(64),
    SESSION_ID              NUMBER,

    -- Timing
    LOGGED_AT               TIMESTAMP DEFAULT SYSTIMESTAMP,
    EXECUTION_DURATION_SEC  NUMBER,

    -- Status
    SUCCESS_FLAG            VARCHAR2(1) NOT NULL,
    ERROR_CODE              NUMBER,
    ERROR_MESSAGE           VARCHAR2(4000),

    -- Foreign Keys
    ADVISOR_RUN_ID          NUMBER,
    EXECUTION_ID            NUMBER,

    -- Constraints
    CONSTRAINT PK_OPERATION_LOG PRIMARY KEY (LOG_ID),
    CONSTRAINT CHK_SUCCESS_FLAG CHECK (SUCCESS_FLAG IN ('Y', 'N'))
)
COMPRESS BASIC
PARTITION BY RANGE (LOGGED_AT) INTERVAL (NUMTODSINTERVAL(7,'DAY'))
(
    PARTITION P_INITIAL VALUES LESS THAN (TIMESTAMP '2025-01-01 00:00:00')
);

CREATE INDEX IDX_OPERATION_LOG_TIME ON OPERATION_LOG(
    LOGGED_AT DESC
) LOCAL;

CREATE INDEX IDX_OPERATION_LOG_TYPE ON OPERATION_LOG(
    OPERATION_TYPE, LOGGED_AT DESC
) LOCAL;
```

### 9. ERROR_LOG

**Purpose**: Detailed error tracking and debugging information.

```sql
CREATE TABLE ERROR_LOG (
    -- Primary Key
    ERROR_ID                NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,

    -- Error Details
    ERROR_CODE              NUMBER NOT NULL,
    ERROR_MESSAGE           VARCHAR2(4000),
    ERROR_BACKTRACE         VARCHAR2(4000),
    ERROR_CONTEXT           VARCHAR2(500),

    -- SQL Information
    SQL_STATEMENT           CLOB,
    SQL_BIND_VARIABLES      CLOB,

    -- Session Information
    SESSION_ID              NUMBER,
    SESSION_USER            VARCHAR2(128),
    SESSION_PROGRAM         VARCHAR2(64),

    -- Timing
    LOGGED_AT               TIMESTAMP DEFAULT SYSTIMESTAMP,

    -- Severity
    SEVERITY_LEVEL          VARCHAR2(20) DEFAULT 'ERROR',
    RECOVERABLE             VARCHAR2(1) DEFAULT 'N',

    -- Foreign Keys
    ADVISOR_RUN_ID          NUMBER,
    EXECUTION_ID            NUMBER,

    -- Constraints
    CONSTRAINT PK_ERROR_LOG PRIMARY KEY (ERROR_ID),
    CONSTRAINT CHK_SEVERITY CHECK (
        SEVERITY_LEVEL IN ('FATAL', 'ERROR', 'WARNING', 'INFO')
    ),
    CONSTRAINT CHK_RECOVERABLE CHECK (RECOVERABLE IN ('Y', 'N'))
)
COMPRESS BASIC
PARTITION BY RANGE (LOGGED_AT) INTERVAL (NUMTODSINTERVAL(7,'DAY'))
(
    PARTITION P_INITIAL VALUES LESS THAN (TIMESTAMP '2025-01-01 00:00:00')
);

CREATE INDEX IDX_ERROR_LOG_TIME ON ERROR_LOG(
    LOGGED_AT DESC
) LOCAL;
```

### 10. PERFORMANCE_METRICS

**Purpose**: Track system performance and optimization opportunities.

```sql
CREATE TABLE PERFORMANCE_METRICS (
    -- Primary Key
    METRIC_ID               NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,

    -- Metric Identification
    METRIC_TYPE             VARCHAR2(50) NOT NULL,
    METRIC_NAME             VARCHAR2(100),
    METRIC_CATEGORY         VARCHAR2(30),

    -- Measurement
    METRIC_VALUE            NUMBER,
    METRIC_UNIT             VARCHAR2(20),
    MEASUREMENT_TIME        TIMESTAMP DEFAULT SYSTIMESTAMP,

    -- Context
    SCHEMA_NAME             VARCHAR2(128),
    OBJECT_NAME             VARCHAR2(128),
    OPERATION_TYPE          VARCHAR2(50),

    -- Statistics
    MIN_VALUE               NUMBER,
    MAX_VALUE               NUMBER,
    AVG_VALUE               NUMBER,
    PERCENTILE_95           NUMBER,
    SAMPLE_COUNT            NUMBER,

    -- Foreign Keys
    ADVISOR_RUN_ID          NUMBER,
    EXECUTION_ID            NUMBER,

    -- Constraints
    CONSTRAINT PK_PERFORMANCE_METRICS PRIMARY KEY (METRIC_ID)
)
COMPRESS BASIC
PARTITION BY RANGE (MEASUREMENT_TIME) INTERVAL (NUMTODSINTERVAL(1,'DAY'))
(
    PARTITION P_INITIAL VALUES LESS THAN (TIMESTAMP '2025-01-01 00:00:00')
);

CREATE INDEX IDX_PERF_METRICS_TYPE_TIME ON PERFORMANCE_METRICS(
    METRIC_TYPE, MEASUREMENT_TIME DESC
) LOCAL;
```

## Data Lifecycle Management

### Partition Maintenance Strategy

```sql
-- Automated partition management for analysis results
-- Drop partitions older than 90 days
CREATE OR REPLACE PROCEDURE drop_old_analysis_partitions IS
    v_partition_name VARCHAR2(128);
BEGIN
    FOR rec IN (
        SELECT partition_name, high_value
        FROM user_tab_partitions
        WHERE table_name = 'COMPRESSION_ANALYSIS_RESULTS'
          AND partition_name != 'P_INITIAL'
    ) LOOP
        -- Evaluate partition high value
        EXECUTE IMMEDIATE
            'SELECT COUNT(*) FROM compression_analysis_results PARTITION(' ||
            rec.partition_name || ') WHERE analysis_date < SYSDATE - 90'
        INTO v_partition_name;

        IF v_partition_name = 0 THEN
            EXECUTE IMMEDIATE
                'ALTER TABLE compression_analysis_results DROP PARTITION ' ||
                rec.partition_name;
        END IF;
    END LOOP;
END;
/

-- Schedule monthly partition cleanup
BEGIN
    DBMS_SCHEDULER.CREATE_JOB(
        job_name => 'CLEANUP_OLD_ANALYSIS_PARTITIONS',
        job_type => 'STORED_PROCEDURE',
        job_action => 'COMPRESSION_MGR.drop_old_analysis_partitions',
        start_date => TRUNC(SYSDATE, 'MM') + INTERVAL '1' MONTH,
        repeat_interval => 'FREQ=MONTHLY',
        enabled => TRUE
    );
END;
/
```

### Statistics Collection Strategy

```sql
-- Automated statistics gathering
BEGIN
    DBMS_STATS.SET_TABLE_PREFS(
        ownname => 'COMPRESSION_MGR',
        tabname => 'COMPRESSION_ANALYSIS_RESULTS',
        pname => 'INCREMENTAL',
        pvalue => 'TRUE'
    );

    DBMS_STATS.SET_TABLE_PREFS(
        ownname => 'COMPRESSION_MGR',
        tabname => 'COMPRESSION_ANALYSIS_RESULTS',
        pname => 'PUBLISH',
        pvalue => 'TRUE'
    );

    DBMS_STATS.SET_TABLE_PREFS(
        ownname => 'COMPRESSION_MGR',
        tabname => 'COMPRESSION_ANALYSIS_RESULTS',
        pname => 'STALE_PERCENT',
        pvalue => '10'
    );
END;
/
```

## Data Integrity Constraints

### Referential Integrity

```sql
-- Ensure historical records reference valid analysis facts
ALTER TABLE COMPRESSION_HISTORY
ADD CONSTRAINT FK_HISTORY_FACT
FOREIGN KEY (FACT_ID) REFERENCES COMPRESSION_ANALYSIS_RESULTS(FACT_ID)
ON DELETE CASCADE;

-- Ensure all analysis results reference valid runs
ALTER TABLE COMPRESSION_ANALYSIS_RESULTS
ADD CONSTRAINT FK_ANALYSIS_RUN
FOREIGN KEY (ADVISOR_RUN_ID) REFERENCES ADVISOR_RUN(RUN_ID)
ON DELETE CASCADE;
```

### Check Constraints

```sql
-- Validate compression ratios are reasonable
ALTER TABLE COMPRESSION_ANALYSIS_RESULTS
ADD CONSTRAINT CHK_COMPRESSION_RATIOS CHECK (
    OLTP_RATIO IS NULL OR (OLTP_RATIO BETWEEN 0.5 AND 20)
);

-- Validate space savings calculations
ALTER TABLE COMPRESSION_HISTORY
ADD CONSTRAINT CHK_SPACE_SAVINGS CHECK (
    SPACE_SAVED_BYTES >= 0 OR OPERATION_STATUS = 'FAILED'
);
```

## Summary

The data model provides comprehensive storage for:
- **Analysis Results**: Multi-dimensional compression analysis with recommendations
- **Execution History**: Complete audit trail with before/after metrics
- **Configuration**: Flexible strategy management
- **Extended Objects**: Specialized tracking for indexes, LOBs, and IOTs
- **Observability**: Performance metrics, error logs, and operation audit trails

**Key Features**:
- **Partitioned Storage**: Efficient lifecycle management
- **Virtual Columns**: Computed metrics without redundancy
- **Proper Indexing**: Optimized query performance
- **Data Integrity**: Comprehensive constraints and foreign keys
- **Audit Trail**: Complete operational history
- **Scalability**: Designed for 10TB+ databases with 1000+ objects

**Data Model Version**: 1.0.0
**Last Updated**: 2025-11-13
**Status**: Design Complete
